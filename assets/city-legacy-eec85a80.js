System.register(["./index-legacy-74de1dda.js","./index-legacy-0f54a0bd.js","./index-legacy-b521de20.js","./index-legacy-e758fc48.js","./city-legacy-079907c1.js","./index-legacy-3ec3a081.js","./use-id-legacy-2d2d158c.js"],(function(e,t){"use strict";var n,a,i,o,r,c,l,d,s,v,u,h,p,x,f,g,y,m,b,k,w,z,C,_,j,S,I,T,O,A,D,$,L,V,R,E,M,P,q,F,N,U,X,Y,B,G,H,K,J,Q=document.createElement("style");return Q.textContent=":root{--van-index-bar-sidebar-z-index: 2;--van-index-bar-index-font-size: var(--van-font-size-xs);--van-index-bar-index-line-height: var(--van-line-height-xs);--van-index-bar-index-active-color: var(--van-primary-color)}.van-index-bar__sidebar{position:fixed;top:50%;right:0;z-index:var(--van-index-bar-sidebar-z-index);display:flex;flex-direction:column;text-align:center;transform:translateY(-50%);cursor:pointer;-webkit-user-select:none;user-select:none}.van-index-bar__index{padding:0 var(--van-padding-xs) 0 var(--van-padding-md);font-weight:var(--van-font-bold);font-size:var(--van-index-bar-index-font-size);line-height:var(--van-index-bar-index-line-height)}.van-index-bar__index--active{color:var(--van-index-bar-index-active-color);font-weight:700}:root{--van-index-anchor-z-index: 1;--van-index-anchor-padding: 0 var(--van-padding-md);--van-index-anchor-text-color: var(--van-text-color);--van-index-anchor-font-weight: var(--van-font-bold);--van-index-anchor-font-size: var(--van-font-size-md);--van-index-anchor-line-height: 8.53333vw;--van-index-anchor-background: transparent;--van-index-anchor-sticky-text-color: var(--van-primary-color);--van-index-anchor-sticky-background: var(--van-background-2)}.van-index-anchor{z-index:var(--van-index-anchor-z-index);box-sizing:border-box;padding:var(--van-index-anchor-padding);color:var(--van-index-anchor-text-color);font-weight:var(--van-index-anchor-font-weight);font-size:var(--van-index-anchor-font-size);line-height:var(--van-index-anchor-line-height);background:var(--van-index-anchor-background)}.van-index-anchor--sticky{position:fixed;top:0;right:0;left:0;color:var(--van-index-anchor-sticky-text-color);background:var(--van-index-anchor-sticky-background)}.list[data-v-911a3acc]{display:flex;flex-wrap:wrap;justify-content:space-around;padding:2.66667vw 6.66667vw 2.66667vw 2.66667vw}.list .city[data-v-911a3acc]{width:18.66667vw;height:7.46667vw;border-radius:3.73333vw;font-size:3.2vw;color:#000;text-align:center;line-height:7.46667vw;background-color:#fff4ec;margin:1.6vw 0}.city .top[data-v-188df7aa]{position:relative;z-index:9}.city .content[data-v-188df7aa]{height:calc(100vh - 26.13333vw);overflow-y:auto}\n",document.head.appendChild(Q),{setters:[e=>{n=e.e,a=e.g,i=e.y,o=e.ap,r=e.D,c=e.j,l=e.q,d=e.C,s=e.ab,v=e.K,u=e.b,h=e.aF,p=e.G,x=e.n,f=e.P,g=e.am,y=e.X,m=e.S,b=e.M,k=e.at,w=e.aM,z=e.p,C=e.af,_=e.z,j=e.f,S=e.aq,I=e.aL,T=e.i,O=e._,A=e.u,D=e.o,$=e.c,L=e.w,V=e.a,R=e.a3,E=e.a4,M=e.t,P=e.a8,q=e.a2,F=e.a0,N=e.az,U=e.aA},e=>{X=e.a,Y=e.T},()=>{},e=>{B=e.C,G=e.S},e=>{H=e.u},e=>{K=e.u,J=e.a},()=>{}],execute:function(){const[t,Q]=n("index-bar"),W={sticky:p,zIndex:x,teleport:[String,Object],highlightColor:String,stickyOffsetTop:f(0),indexList:{type:Array,default:function(){const e="A".charCodeAt(0);return Array(26).fill("").map(((t,n)=>String.fromCharCode(e+n)))}}},Z=Symbol(t);var ee=a({name:t,props:W,emits:["select","change"],setup(e,{emit:t,slots:n}){const a=i(),p=i(),x=i(""),f=K(),C=o(a),{children:_,linkChildren:j}=r(Z);let S;j({props:e});const I=c((()=>{if(l(e.zIndex))return{zIndex:+e.zIndex+1}})),T=c((()=>{if(e.highlightColor)return{color:e.highlightColor}})),O=(t,n)=>{for(let a=_.length-1;a>=0;a--){const i=a>0?n[a-1].height:0;if(t+(e.sticky?i+e.stickyOffsetTop:0)>=n[a].top)return a}return-1},A=e=>_.find((t=>String(t.index)===e)),D=()=>{if(g(a))return;const{sticky:t,indexList:n}=e,i=y(C.value),o=m(C),r=_.map((e=>e.getRect(C.value,o)));let c=-1;if(S){const e=A(S);if(e){const t=e.getRect(C.value,o);c=O(t.top,r)}}else c=O(i,r);x.value=n[c],t&&_.forEach(((t,n)=>{const{state:a,$el:l}=t;if(n===c||n===c-1){const e=l.getBoundingClientRect();a.left=e.left,a.width=e.width}else a.left=null,a.width=null;if(n===c)a.active=!0,a.top=Math.max(e.stickyOffsetTop,r[n].top-i)+o.top;else if(n===c-1&&""===S){const e=r[c].top-i;a.active=e>0,a.top=e+o.top-r[n].height}else a.active=!1})),S=""},$=()=>{b(D)};d("scroll",D,{target:C,passive:!0}),s($),v((()=>e.indexList),$),v(x,(e=>{e&&t("change",e)}));const L=n=>{S=String(n);const a=A(S);if(a){const n=y(C.value),i=m(C),{offsetHeight:o}=document.documentElement;if(a.$el.scrollIntoView(),n===o-i.height)return void D();e.sticky&&e.stickyOffsetTop&&k(w()-e.stickyOffsetTop),t("select",a.index)}},V=e=>{const{index:t}=e.dataset;t&&L(t)},R=e=>{V(e.target)};let E;const M=()=>u("div",{ref:p,class:Q("sidebar"),style:I.value,onClick:R,onTouchstartPassive:f.start},[e.indexList.map((e=>{const t=e===x.value;return u("span",{class:Q("index",{active:t}),style:t?T.value:void 0,"data-index":e},[e])}))]);return J({scrollTo:L}),d("touchmove",(e=>{if(f.move(e),f.isVertical()){z(e);const{clientX:t,clientY:n}=e.touches[0],a=document.elementFromPoint(t,n);if(a){const{index:e}=a.dataset;e&&E!==e&&(E=e,V(a))}}}),{target:p}),()=>{var t;return u("div",{ref:a,class:Q()},[e.teleport?u(h,{to:e.teleport},{default:()=>[M()]}):M(),null==(t=n.default)?void 0:t.call(n)])}}});const[te,ne]=n("index-anchor");var ae=a({name:te,props:{index:x},setup(e,{slots:t}){const n=C({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),a=i(),{parent:o}=_(Z);if(!o)return;const r=()=>n.active&&o.props.sticky,l=c((()=>{const{zIndex:e,highlightColor:t}=o.props;if(r())return j(S(e),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:t})}));return J({state:n,getRect:(e,t)=>{const i=m(a);return n.rect.height=i.height,e===window||e===document.body?n.rect.top=i.top+w():n.rect.top=i.top+y(e)-t.top,n.rect}}),()=>{const i=r();return u("div",{ref:a,style:{height:i?`${n.rect.height}px`:void 0}},[u("div",{style:l.value,class:[ne({sticky:i}),{[I]:i}]},[t.default?t.default():e.index])])}}});const ie=T(ae),oe=T(ee),re={class:"city-group"},ce={class:"list"},le=["onClick"],de={__name:"city-group",props:{groupData:{type:Object,default:()=>({})}},setup(e){const t=e,n=c((()=>{const e=t.groupData.cities.map((e=>e.group));return e.unshift("#"),e})),a=A(),i=H(),o=e=>{i.currentCity=e,a.back()};return(t,a)=>{const i=ie,r=B,c=oe;return D(),$("div",re,[u(c,{sticky:!1,"index-list":q(n)},{default:L((()=>[u(i,{index:"热门"}),V("div",ce,[(D(!0),$(R,null,E(e.groupData.hotCities,((e,t)=>(D(),$("div",{class:"city",onClick:t=>o(e)},M(e.cityName),9,le)))),256))]),(D(!0),$(R,null,E(e.groupData.cities,((e,t)=>(D(),$(R,{key:t},[u(i,{index:e.group},null,8,["index"]),(D(!0),$(R,null,E(e.cities,((e,t)=>(D(),P(r,{key:t,title:e.cityName,onClick:t=>o(e)},null,8,["title","onClick"])))),128))],64)))),128))])),_:1},8,["index-list"])])}}},se=O(de,[["__scopeId","data-v-911a3acc"]]),ve={class:"city top-page"},ue={class:"top"},he={class:"content"};e("default",O({__name:"city",setup(e){const t=A(),n=i(""),a=()=>{t.back()},o=i(),r=H();r.fetchAllCityData();const{allCities:l}=F(r);return c((()=>l.value[o.value])),(e,t)=>{const i=G,r=X,c=Y;return D(),$("div",ve,[V("div",ue,[u(i,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),placeholder:"城市/区域/位置",shape:"round","show-action":"",onCancel:a},null,8,["modelValue"]),u(c,{active:o.value,"onUpdate:active":t[1]||(t[1]=e=>o.value=e),color:"#ff9854","line-height":"3"},{default:L((()=>[(D(!0),$(R,null,E(q(l),((e,t,n)=>(D(),P(r,{key:t,title:e.title,name:t},null,8,["title","name"])))),128))])),_:1},8,["active"])]),V("div",he,[(D(!0),$(R,null,E(q(l),((e,t,n)=>N((D(),P(se,{"group-data":e},null,8,["group-data"])),[[U,o.value===t]]))),256))])])}}},[["__scopeId","data-v-188df7aa"]]))}}}));
