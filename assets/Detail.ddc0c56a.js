import{_ as y,o as s,c as o,a3 as m,a4 as f,aV as G,a as e,t as a,b as d,w as g,a7 as x,a8 as z,I as Z,a5 as L,d as V,aJ as E,Y as B,Z as N,y as T,ab as Y,u as q,aY as J,j as A,K,a2 as p,aZ as U}from"./index.3fe0e41c.js";import{N as H}from"./index.96506a47.js";import{m as Q}from"./index.87fb0a01.js";import{S as W,a as X}from"./index.e1e60aae.js";import{R as tt,u as et}from"./useScroll.cac92726.js";function st(t){return Q.get({url:"/detail/infos",params:{houseId:t}})}const ot={props:{titles:{type:Array,default:()=>[]}},data(){return{currentIndex:0}},emits:["tabItemClick"],methods:{itemClick(t){this.currentIndex=t,this.$emit("tabItemClick",t)},setCurrentIndex(t){this.currentIndex=t}}},nt={class:"tab-control"},at=["onClick"];function ct(t,u,i,c,n,l){return s(),o("div",nt,[(s(!0),o(m,null,f(i.titles,(_,r)=>(s(),o("div",{key:_,class:G(["tab-control-item",{active:r===n.currentIndex}]),onClick:b=>l.itemClick(r)},[e("span",null,a(_),1)],10,at))),128))])}const lt=y(ot,[["render",ct],["__scopeId","data-v-4bec414b"]]);const it={class:"swipe"},dt=["src"],_t={class:"indicator"},rt={class:"text"},ut={key:0,class:"count"},mt={__name:"detail_01-swipe",props:{swipeData:{type:Array,default:()=>[]}},setup(t){const u=t,i={};for(const _ of u.swipeData){let r=i[_.enumPictureCategory];r||(r=[],i[_.enumPictureCategory]=r),r.push(_)}const c=/【(.*?)】/i,n=_=>c.exec(_)[1],l=_=>i[_.enumPictureCategory].findIndex(b=>b===_)+1;return(_,r)=>{const b=W,P=X;return s(),o("div",it,[d(P,{class:"swipe-list",autoplay:3e3,"indicator-color":"white"},{indicator:g(({active:v,total:j})=>[e("div",_t,[(s(),o(m,null,f(i,($,I,O)=>{var R,D;return e("span",{key:I,class:G(["item",{active:((R=t.swipeData[v])==null?void 0:R.enumPictureCategory)==I}])},[e("span",rt,a(n($[0].title)),1),((D=t.swipeData[v])==null?void 0:D.enumPictureCategory)==I?(s(),o("span",ut,a(l(t.swipeData[v]))+"/"+a($.length),1)):x("",!0)],2)}),64))])]),default:g(()=>[(s(!0),o(m,null,f(t.swipeData,(v,j)=>(s(),z(b,{class:"item"},{default:g(()=>[e("img",{src:v.url,alt:""},null,8,dt)]),_:2},1024))),256))]),_:1})])}}},ht=y(mt,[["__scopeId","data-v-965bc623"]]);const pt={class:"infos"},vt={class:"name"},ft={class:"tags"},yt={class:"comment extra"},$t={class:"left"},gt={class:"score"},xt={class:"title"},bt={class:"brief"},It={class:"right"},kt={class:"count"},wt={class:"position extra"},Ct={class:"left address"},St={class:"right"},Dt={__name:"detail_02-infos",props:{topInfos:{type:Object,default:()=>({})}},setup(t){return(u,i)=>{const c=Z;return s(),o("div",pt,[e("div",vt,a(t.topInfos.houseName),1),e("div",ft,[(s(!0),o(m,null,f(t.topInfos.houseTags,(n,l)=>(s(),o(m,{key:l},[n.tagText?(s(),o("span",{key:0,class:"item",style:L({color:n.tagText.color,background:n.tagText.background.color})},a(n.tagText.text),5)):x("",!0)],64))),128))]),e("div",yt,[e("div",$t,[e("span",gt,a(t.topInfos.commentBrief.overall),1),e("span",xt,a(t.topInfos.commentBrief.scoreTitle),1),e("span",bt,a(t.topInfos.commentBrief.commentBrief),1)]),e("div",It,[e("span",kt,[V(a(t.topInfos.commentBrief.totalCount)+"\u6761\u8BC4\u8BBA ",1),d(c,{name:"arrow"})])])]),e("div",wt,[e("div",Ct,a(t.topInfos.nearByPosition.address),1),e("div",St,[V(" \u5730\u56FE\xB7\u5468\u8FB9 "),d(c,{name:"arrow"})])])])}}},Tt=y(Dt,[["__scopeId","data-v-e7b2c715"]]);const Mt=t=>(B("data-v-8cd1defa"),t=t(),N(),t),Rt={class:"detail-section"},Bt={class:"header"},Nt={class:"title"},Pt={class:"content"},jt=Mt(()=>e("h3",null,"\u6211\u662F\u9ED8\u8BA4\u5185\u5BB9",-1)),Ot={key:0,class:"footer"},At={class:"more"},Lt={__name:"detail-section",props:{title:{type:String,default:"\u9ED8\u8BA4\u6807\u9898"},moreText:{type:String,default:""}},setup(t){return(u,i)=>{const c=Z;return s(),o("div",Rt,[e("div",Bt,[e("h2",Nt,a(t.title),1)]),e("div",Pt,[E(u.$slots,"default",{},()=>[jt],!0)]),t.moreText.length?(s(),o("div",Ot,[e("span",At,a(t.moreText),1),d(c,{name:"arrow"})])):x("",!0)])}}},M=y(Lt,[["__scopeId","data-v-8cd1defa"]]);const Ft=t=>(B("data-v-47d5a5db"),t=t(),N(),t),Vt={class:"facility"},Gt={class:"facility-inner"},zt={key:0,class:"item"},Zt={class:"head"},Et=["src"],Yt={class:"text"},qt={class:"list"},Jt=Ft(()=>e("i",{class:"icon-check icon"},null,-1)),Kt={__name:"detail_03-facility",props:{houseFacility:{type:Object,default:()=>({})}},setup(t){return(u,i)=>(s(),o("div",Vt,[d(M,{title:"\u623F\u5C4B\u8BBE\u65BD","more-text":"\u67E5\u770B\u5168\u90E8\u8BBE\u65BD"},{default:g(()=>[e("div",Gt,[(s(!0),o(m,null,f(t.houseFacility.houseFacilitys,(c,n)=>{var l;return s(),o(m,{key:n},[(l=t.houseFacility.facilitySort)!=null&&l.includes(n)?(s(),o("div",zt,[e("div",Zt,[e("img",{src:c.icon,alt:""},null,8,Et),e("div",Yt,a(c.groupName),1)]),e("div",qt,[(s(!0),o(m,null,f(c.facilitys.slice(0,4),(_,r)=>(s(),o("div",{key:r,class:"iten"},[Jt,e("span",null,a(_.name),1)]))),128))])])):x("",!0)],64)}),128))])]),_:1})]))}},Ut=y(Kt,[["__scopeId","data-v-47d5a5db"]]);const Ht=t=>(B("data-v-5828c1b3"),t=t(),N(),t),Qt={class:"landlord"},Wt={class:"intro"},Xt={class:"top"},te=["src"],ee={class:"header"},se={class:"left"},oe={class:"avatar"},ne=["src"],ae={class:"info"},ce={class:"name"},le={class:"tags"},ie={key:0,class:"divider"},de=Ht(()=>e("div",{class:"right"},[e("div",{class:"contact"},"\u8054\u7CFB\u623F\u4E1C")],-1)),_e={class:"bottom"},re={class:"item"},ue={class:"title"},me={class:"score"},he={class:"desc"},pe={__name:"detail_04-landlord",props:{landlord:{type:Object,default:()=>({})}},setup(t){return(u,i)=>(s(),o("div",Qt,[d(M,{title:"\u623F\u4E1C\u4ECB\u7ECD","more-text":"\u67E5\u770B\u623F\u4E1C\u4E3B\u9875"},{default:g(()=>[e("div",Wt,[e("div",Xt,[e("img",{src:t.landlord.topScroll,alt:""},null,8,te)]),e("div",ee,[e("div",se,[e("div",oe,[e("img",{src:t.landlord.hotelLogo,alt:""},null,8,ne)]),e("div",ae,[e("div",ce,a(t.landlord.hotelName),1),e("div",le,[(s(!0),o(m,null,f(t.landlord.hotelTags,(c,n)=>(s(),o("div",{class:"item",style:L({color:c.tagText.color})},[e("span",null,a(c.tagText.text),1),n!==t.landlord.hotelTags.length-1?(s(),o("span",ie,"|")):x("",!0)],4))),256))])])]),de]),e("div",_e,[(s(!0),o(m,null,f(t.landlord.hotelSummary,(c,n)=>(s(),o("div",re,[e("div",ue,a(c.title),1),e("div",me,a(c.introduction),1),e("div",he,a(c.tip),1)]))),256))])])]),_:1})]))}},ve=y(pe,[["__scopeId","data-v-5828c1b3"]]);const fe=t=>(B("data-v-47b5af47"),t=t(),N(),t),ye={class:"comment"},$e={class:"comment-inner"},ge={class:"header"},xe={class:"left"},be={class:"score"},Ie={class:"text"},ke=fe(()=>e("div",{class:"line"},null,-1)),we={class:"info"},Ce={class:"title"},Se={class:"count"},De={class:"star"},Te={class:"right"},Me={class:"tags"},Re={class:"content"},Be={class:"user"},Ne={class:"avatar"},Pe=["src"],je={class:"profile"},Oe={class:"name"},Ae={class:"date"},Le={class:"text"},Fe={__name:"detail_05-comment",props:{comment:{type:Object,default:()=>({})}},setup(t){return(u,i)=>{const c=tt;return s(),o("div",ye,[d(M,{title:"\u70ED\u95E8\u8BC4\u8BBA","more-text":`\u67E5\u770B\u5168\u90E8${t.comment.totalCount}\u6761\u8BC4\u8BBA`},{default:g(()=>[e("div",$e,[e("div",ge,[e("div",xe,[e("div",be,[e("span",Ie,a(t.comment.overall),1),ke]),e("div",we,[e("div",Ce,a(t.comment.scoreTitle),1),e("div",Se,a(t.comment.totalCount)+"\u6761\u8BC4\u8BBA",1),e("div",De,[d(c,{modelValue:t.comment.overall,"onUpdate:modelValue":i[0]||(i[0]=n=>t.comment.overall=n),color:"#ff9645",size:"12",readonly:"","allow-half":""},null,8,["modelValue"])])])]),e("div",Te,[(s(!0),o(m,null,f(t.comment.subScores,(n,l)=>(s(),o("span",{key:n,class:"item"},a(n),1))),128))])]),e("div",Me,[(s(!0),o(m,null,f(t.comment.commentTagVo,(n,l)=>(s(),o("span",{key:l,class:"item",style:L({color:n.color,background:n.backgroundColor})},a(n.text),5))),128))]),e("div",Re,[e("div",Be,[e("div",Ne,[e("img",{src:t.comment.comment.userAvatars,alt:""},null,8,Pe)]),e("div",je,[e("div",Oe,a(t.comment.comment.userName),1),e("div",Ae,a(t.comment.comment.checkInDate),1)])]),e("div",Le,a(t.comment.comment.commentDetail),1)])])]),_:1},8,["more-text"])])}}},Ve=y(Fe,[["__scopeId","data-v-47b5af47"]]);const Ge={class:"notice"},ze={class:"notice-inner"},Ze={class:"title"},Ee={class:"intro"},Ye={key:0,class:"tip"},qe={__name:"detail_06-notice",props:{orderRules:{type:Array,default:()=>[]}},setup(t){return(u,i)=>(s(),o("div",Ge,[d(M,{title:"\u9884\u5B9A\u987B\u77E5"},{default:g(()=>[e("div",ze,[(s(!0),o(m,null,f(t.orderRules,(c,n)=>(s(),o("div",{key:n,class:"item"},[e("span",Ze,a(c.title),1),e("span",Ee,a(c.introduction),1),c.tips?(s(),o("span",Ye,"\u67E5\u770B\u8BF4\u660E")):x("",!0)]))),128))])]),_:1})]))}},Je=y(qe,[["__scopeId","data-v-4d37c856"]]);const Ke={class:"home"},Ue={__name:"detail_07-map",props:{position:{type:Object,default:()=>({})}},setup(t){const u=t,i=T();return Y(()=>{const c=new BMapGL.Map(i.value),n=new BMapGL.Point(u.position.longitude,u.position.latitude);c.centerAndZoom(n,15);const l=new BMapGL.Marker(n);c.addOverlay(l)}),(c,n)=>(s(),o("div",Ke,[d(M,{title:"\u4F4D\u7F6E\u5468\u8FB9","more-text":"\u67E5\u770B\u66F4\u591A\u5468\u8FB9\u4FE1\u606F"},{default:g(()=>[e("div",{class:"baidu",ref_key:"mapRef",ref:i},null,512)]),_:1})]))}},He=y(Ue,[["__scopeId","data-v-4f0437c4"]]);const Qe={class:"intro"},We={class:"title"},Xe={class:"content"},ts={__name:"detail_08-intro",props:{priceIntro:{type:Object,default:()=>({})}},setup(t){return(u,i)=>(s(),o("div",Qe,[e("h2",We,a(t.priceIntro.title),1),e("div",Xe,a(t.priceIntro.introduction),1)]))}},es=y(ts,[["__scopeId","data-v-7418868b"]]);const ss={__name:"Detail",setup(t){const u=q(),c=J().params.id,n=T({}),l=A(()=>n.value.mainPart);st(c).then(h=>{n.value=h.data});const _=()=>{u.back()},r=T(),{scrollTop:b}=et(r),P=A(()=>b.value>=300),v=T({}),j=A(()=>Object.keys(v.value)),$=h=>{if(!h)return;const w=h.$el.getAttribute("name");v.value[w]=h.$el};let I=!1,O=-1;const R=h=>{const w=Object.keys(v.value)[h];let k=v.value[w].offsetTop;h!==0&&(k=k-44),I=!0,O=k,r.value.scrollTo({top:k,behavior:"smooth"})},D=T();return K(b,h=>{var F;if(h===O&&(I=!1),I)return;const C=Object.values(v.value).map(S=>S.offsetTop);let k=C.length-1;for(let S=0;S<C.length;S++)if(C[S]>h+44){k=S-1;break}(F=D.value)==null||F.setCurrentIndex(k)}),(h,w)=>{const C=H;return s(),o("div",{class:"detail top-page",ref_key:"detailRef",ref:r},[p(P)?(s(),z(lt,{key:0,class:"tabs",titles:p(j),onTabItemClick:R,ref_key:"tabControlRef",ref:D},null,8,["titles"])):x("",!0),d(C,{title:"\u8BE6\u60C5","left-text":"\u9996\u9875","left-arrow":"",onClickLeft:_}),p(l)?U([p(l)],()=>(s(),o("div",{key:1,class:"main"},[d(ht,{"swipe-data":p(l).topModule.housePicture.housePics},null,8,["swipe-data"]),d(Tt,{name:"\u63CF\u8FF0",ref:$,"top-infos":p(l).topModule},null,8,["top-infos"]),d(Ut,{name:"\u8BBE\u65BD",ref:$,"house-facility":p(l).dynamicModule.facilityModule.houseFacility},null,8,["house-facility"]),d(ve,{name:"\u623F\u4E1C",ref:$,landlord:p(l).dynamicModule.landlordModule},null,8,["landlord"]),d(Ve,{name:"\u8BC4\u8BBA",ref:$,comment:p(l).dynamicModule.commentModule},null,8,["comment"]),d(Je,{name:"\u987B\u77E5",ref:$,"order-rules":p(l).dynamicModule.rulesModule.orderRules},null,8,["order-rules"]),d(He,{name:"\u5468\u8FB9",ref:$,position:p(l).dynamicModule.positionModule},null,8,["position"]),d(es,{"price-intro":p(l).introductionModule},null,8,["price-intro"])])),w,0):x("",!0)],512)}}},is=y(ss,[["__scopeId","data-v-778454fe"]]);export{is as default};
